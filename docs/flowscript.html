<!doctype html>
<html>
<head>
    <link rel='shortcut icon' href='images/favicon.png' type='image/x-icon' />
    <meta charset="utf-8">
    <title>Amicitia - Flowscript</title>
    <script src="https://shrinefox.com/Scripts/Amicitia/jquery-3.3.1.min.js"></script>
    <link href="https://shrinefox.com/css/index.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/sidebar.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/waves.css" rel="stylesheet" type="text/css">
    <link href="css/select.css" rel="stylesheet" type="text/css">
    <link href="css/amicitia.css" rel="stylesheet" type="text/css">
    <script src="js/bubbles.js"></script>
    <script src="js/showhide.js"></script>
    <script src="js/navigation.js"></script>
    <script src="https://kit.fontawesome.com/4c3075832a.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
<main>
    <div id="wrapper">
        <div class="copied">Cheat copied to clipboard!</div>
        <!--Sidebar Toggle-->
        <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu" style="position: fixed;display:none;">
        <label for="openSidebarMenu" class="sidebarIconToggle">
            <div class="spinner diagonal part-1"></div>
            <div class="spinner horizontal"></div>
            <div class="spinner diagonal part-2"></div>
        </label>
        <!--Sidebar Menu-->
        <aside class="sidebar">
            <div class="component">
                <div class="sidebarheader"></div>
                <div class="contents">
                    <ul class="items list">
                        <a href="https://shrinefox.com/">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-home" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">ShrineFox.com</div>
                                    <div class="subtitle">Home Page</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/blog">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-wordpress" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">ShrineFox.com Blog</div>
                                    <div class="subtitle">Misc Development</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/projects">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-cogs" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Projects</div>
                                    <div class="subtitle">Things I Made</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/amicitia">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-globe" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Amicitia</div>
                                    <div class="subtitle">About the Project</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/credits">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-heart" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Credits</div>
                                    <div class="subtitle"></div>
                                </div>
                            </div>
                        </a>
                        <h5>Amicitia Network</h5>
                        <br>
                        <a href="https://amicitia.github.io">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-desktop" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">amicitia.github.io</div>
                                    <div class="subtitle">Mods & Tools</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://amicitia-team.tumblr.com">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-newspaper" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">News</div>
                                    <div class="subtitle">Modding Announcements</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://amicitia.miraheze.org/wiki/Main_Page">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-users" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Wiki</div>
                                    <div class="subtitle">Documentation</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/forum">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-comments-o" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Forum</div>
                                    <div class="subtitle">Support & Submissions</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/guides/">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-graduation-cap" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Guides</div>
                                    <div class="subtitle">Modding Tutorials</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/forum/app.php/faqpage">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-question-circle" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">FAQs</div>
                                    <div class="subtitle">Frequently Asked Q&A</div>
                                </div>
                            </div>
                        </a>
                        <h5>Apps</h5>
                        <br>
                        <a href="https://shrinefox.com/textsearch">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-search" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Text Search</div>
                                    <div class="subtitle">Locate Files With Dialog</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://amicitia.github.io/docs/flowscript">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-file-code" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Flowscript Docs</div>
                                    <div class="subtitle">Learn .flow/.msg</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://amicitia.github.io/files">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-folder-open" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Files</div>
                                    <div class="subtitle">Download assets</div>
                                </div>
                            </div>
                        </a>
                        <a href="https://shrinefox.com/PatchCreator">
                            <div class="item">
                                <div class="thumbnail"><i class="fa fa-check-square" aria-hidden="true"></i></div>
                                <div class="info">
                                    <div class="title">Patch.yml Creator</div>
                                    <div class="subtitle">P5 RPCS3 Patches</div>
                                </div>
                            </div>
                        </a>
                    </ul>
                </div> <!--End Contents-->
            </div>  <!--End Component-->
        </aside>  <!--End Sidebar Menu-->
        <div class="article">
            <!--Header-->
            <div class="header">
                <canvas id="bgCanvas"></canvas>
                <!--Logo and Header Text-->
                <div>
                    <center>
                        <table>
                            <tr>
                                <td style="width:25%;"></td>
                                <td>
                                    <div class="image" style="max-width: calc(var(--space-md) * 2.5);min-width: calc(var(--space-md) * 0.5);"><a href="https://amicitia.github.io/"><img src="https://amicitia.github.io/images/logo.svg"></a></div>
                                </td>
                                <td style="width:55%;">
                                    <h1>amicitia.github.io</h1>
                                    <h2>flowscript documentation</h2>
                                </td>
                            </tr>
                        </table>
                    </center>
                </div>
                <!--Waves-->
                <div>
                    <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                         viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                        </defs>
                        <g class="parallax">
                            <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(17,17,17,0.33)" />
                            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(17,17,17,0.6)" />
                            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(17,17,17,0.6)" />
                            <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(17,17,17,1)" />
                        </g>
                    </svg>
                </div>
                <!--Waves End-->
            </div>
            <!--Header End-->
            <div class="content">
                <table>
                    <tbody>
                        <tr>
                            <td width="25%" style="vertical-align:top">
<div class="container body-content">
	<table>
        <tr>
            <td width="25%" style="vertical-align:top">
                <div class="content-outer">
                    <div class="content"><br>
						Basics
						<br>↳ <a href="https://amicitia.github.io/docs/flowscript">Flowscript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/messagescript">Messagescript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/decompiling">Decompiling</a>
						<br>↳ <a href="https://amicitia.github.io/docs/compiling">Compiling</a>
						<br>
						<br>Features
						<br>↳ <a href="https://amicitia.github.io/docs/importing">Importing</a>
						<br>↳ Declaring Functions
						<br>↳ Declaring Variables
						<br>↳ <a href="https://amicitia.github.io/docs/hookingfunctions">Hooking Functions</a>
						<br>
						<br>P5 Functions
						<br>↳ AI
						<br>↳ Common
						<br>↳ Facility
						<br>↳ Field
						<br>↳ Net
						<br>↳ Social
					</div>
				</div>
			</td>
			<td width="75%">
				<div class="content-outer">
                    <div class="content">
						<h1>Flowscript</h1><br><b>Flowscript</b> is a scripting language created by <b>TGEnigma</b> for use with his <a href="https://shrinefox.com/?tool=atlusscriptcompiler">AtlusScriptCompiler</a>. It is the decompiled form of <b>BF</b>, the binary output of Atlus's scripts which many of their games use to perform various logical procedures.
<br><h2>Decompiling</h2>
You can convert <b>.BF</b> to <b>.FLOW</b> and open it with your text editor of choice <a href="https://amicitia.github.io/docs/decompiling">by following this guide</a>.
<br />Likewise, you can also convert <b>.BMD</b> to <b>.MSG</b> for easy reading and editing.
<br />If you're looking for a full dump of P5's scripts for reference, <a href="https://cdn.discordapp.com/attachments/143149937247387649/604106240695599124/AtlusFlowScriptExtractorOutput.zip">you can get one here</a>.
<h2>Compiling</h2>
To turn <b>.FLOW</b> files back into <b>.BF</b>, or <b>.MSG</b> files back into <b>.BMD</b>, be sure to <a href="https://amicitia.github.io/docs/compiling">read this guide</a>.
<br><br />Below is an example of a custom flowscript that uses <b>Persona 5 (PS3)</b>'s scripting functions.
<br><h2>Sample Script</h2>
<pre><code class="c#">// Import the MessageScript into the script
import( "TestScript2.msg" );
// Constants can be defined with the const modifier
const int FLD_SCRIPT_TIMING_BEFORE_LOAD	= 0;
// Can define static variable but can't initialize it outside of a procedure.
static bool sHasRun;
// You can define enum values and refer to them like so
enum PadButton
{<br>	Select,<br>	LStick,<br>	RStick,<br>	Start,<br>	Up,<br>	Down,<<br>	L1,<br>	R1,<br>	L2,<br>	Triangle,<br>	Circle,<br>	X,<br>	Any<br>}
<br>void Main()
{
	// Display dialog window
	MSG_WND_DSP(); 
	MSG( HelloDialog, 0 ); 
	int selection = SEL( 1 );
	MSG_WND_CLS(); 
	switch ( selection )
	{
		case 0:
			int playerResHandle = FLD_PC_GET_RESHND( 0 );		
			FLD_MODEL_SET_SCALE( playerResHandle, 2f );
			break;
		case 1:
			CALL_FIELD( 0, 2, 0, 0 );
			break;
		case 2:
			StartBossrushMode();
			break;
		case 3:
			StartTeleportMode();
			break;
		case 4:
			StartButtonTestMode();
			break;
		case 5:
			StartSoundTestMode();
			break;
		default:
			break;
	}
}
<br>...
</code></pre>
					</div>
				</div>
			</td>
		</tr>
	</table>
</div>            </td>
        </tr>
    </tbody>
</table>
<br>
<br>
<br>
<br>
<center>© ShrineFox 2020 - 2021. <a href="https://ko-fi.com/shrinefox"><i class="fa fa-coffee" aria-hidden="true"></i> Support</a></center>
<br>
<!--Content End-->
<div class="footer"></div>
<!--Footer End-->
		</div>
		</form>
	</main>
</div>