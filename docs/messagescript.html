<!doctype html>
<html>
<head>
    <link rel='shortcut icon' href='images/favicon.png' type='image/x-icon' />
    <meta charset="utf-8">
    <title>Amicitia Mods</title>
    <link href="https://shrinefox.com/css/index.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/waves.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/sidebar.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/navbar.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/grid.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/post.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/select.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/pagination.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/amicitia.css" rel="stylesheet" type="text/css">
    <script src="https://shrinefox.com/js/jquery-3.3.1.min.js"></script>
    <script src="https://shrinefox.com/js/bubbles.js"></script>
    <script src="https://shrinefox.com/js/clipboard.js"></script>
    <script src="https://shrinefox.com/js/showhide.js"></script>
    <script src="https://shrinefox.com/js/hidenav.js"></script>
    <script src="https://shrinefox.com/js/navigation.js"></script>
    <script src="https://kit.fontawesome.com/4c3075832a.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <script data-ad-client="ca-pub-9519592525056753" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
    <main>
        <div class="copied">Cheat copied to clipboard!</div>
        <div id="wrapper">
            <div id="wrapper">
                <!--Navbar-->
                <div class="navbar" style="top: 0px;">
                    <div class="navbar-container">
                        <table>
                            <tbody>
                                <tr>
                                    <td style="width: 95px;padding-left: 20px;">
                                        <label for="openSidebarMenu" class="sidebarIconToggle">
                                            <div class="spinner diagonal part-1"></div>
                                            <div class="spinner horizontal"></div>
                                            <div class="spinner diagonal part-2"></div>
                                        </label>
                                    </td>
                                    <td>
                                        <div class="navbar-outer">
                                            <div class="navbar-inner">
                                                <a href="https://amicitia.github.io">
                                                    <div class="navbar-item">
                                                        <div class="amicitia-logo">
                                                            <div class="amicitia-svg"></div>
                                                        </div>Mods
                                                    </div>
                                                </a>
                                                <!--Top Navbar-->
                                                <a href="https://shrinefox.com/news">
                                                    <div class="navbar-item">
                                                        <span><i class="fa fa-newspaper" aria-hidden="true"></i>&nbsp;News</span>
                                                    </div>
                                                </a>
                                                <a href="https://shrinefox.com/guides">
                                                    <div class="navbar-item">
                                                        <span><i class="fa fa-graduation-cap" aria-hidden="true"></i>&nbsp;Guides</span>
                                                    </div>
                                                </a>
                                                <a href="https://shrinefox.com/blog">
                                                    <div class="navbar-item">
                                                        <span><i class="fab fa-wordpress" aria-hidden="true"></i>&nbsp;Blog</span>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--Sidebar Toggle-->
                <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu" style="position: fixed;display:none;">
                <aside class="sidebar">
                    <div class="component">
                        <div class="contents">
                            <ul class="items list">
                                <!--Sidebar Items-->
                                <div class="sidebarheader">
                                    <i class="fa fa-cube" aria-hidden="true"></i> &nbsp;&nbsp;Resources
                                </div>
                                <a href="https://amicitia.miraheze.org/wiki/Main_Page">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-users" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Wiki</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/forum">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-comments-o" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Support Forum</div>

                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/forum/app.php/faqpage">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-question-circle" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Frequently Asked Q&amp;A</div>
                                        </div>
                                    </div>
                                </a>
                                <br>
                                <div class="sidebarheader">
                                    <i class="fa fa-terminal" aria-hidden="true"></i>&nbsp;&nbsp;Apps
                                </div>
                                <a href="https://shrinefox.com/textsearch">
                                    <div class="item">
                                        <div class="thumbnail">
                                            <i class="fa fa-search" aria-hidden="true"></i>
                                        </div>
                                        <div class="info">
                                            <div class="title">&nbsp;Text Search</div>
                                            <div class="subtitle">&nbsp;Locate Files With Dialog</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://amicitia.github.io/docs/flowscript">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-file-code" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Flowscript Docs</div>
                                            <div class="subtitle">&nbsp;Learn .flow/.msg</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://amicitia.github.io/files">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-folder-open" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Files</div>
                                            <div class="subtitle">&nbsp;Download assets</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/PatchCreator">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-check-square" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Patch.yml Creator</div>
                                            <div class="subtitle">&nbsp;P5 RPCS3 Patches</div>
                                        </div>
                                    </div>
                                </a>
                            </ul>
                        </div> <!--End Contents-->
                    </div>  <!--End Component-->
                </aside>  <!--End Sidebar Menu-->
                <div class="article">
                    <!--Header-->
                    <div class="header">
                        <canvas id="bgCanvas" width="715" height="722" style=""></canvas>
                        <center>
                            <div class="header-inner" style="margin-top: 150px;">
                                <!--Title-->
                                <h1>
                                    <span class="underline-on-hover">game</span>
                                    <select class="select-css" onchange="navigate()" id="game" name="game">
                                        <option value="" disabled=""></option>
                                        <option value="All">All</option>
                                        <option value="P5">Persona 5</option>
                                        <option value="P5R">Persona 5 Royal</option>
                                        <option value="P5S">Persona 5 Strikers</option>
                                        <option value="P5D">Persona 5 Dancing in Starlight</option>
                                        <option value="P4">Persona 4</option>
                                        <option value="P4G">Persona 4 Golden</option>
                                        <option value="P4AU">Persona 4 Arena Ultimax</option>
                                        <option value="P4D">Persona 4 Dancing All Night</option>
                                        <option value="P3FES">Persona 3 FES</option>
                                        <option value="P3P">Persona 3 Portable</option>
                                        <option value="P3D">Persona 3 Dancing in Moonlight</option>
                                        <option value="PQ">Persona Q</option>
                                        <option value="PQ2">Persona Q2</option>
                                        <option value="CFB">Catherine Full Body</option>
                                        <option value="SMT3">Shin Megami Tensei Nocturne</option>
                                    </select>
                                    <span class="underline-on-hover">mods &amp; resources</span>
                                    <select class="select-css" onchange="navigate()" id="type" name="type">
                                        <option value="" disabled=""></option>
                                        <option value="All">All</option>
                                        <option value="Mod">Mods</option>
                                        <option value="Tool">Tools</option>
                                        <option value="Cheat">Cheats</option>
                                        <option value="Guide">Guides</option>
                                    </select>
                                </h1>
                        </center>
                        <!--Waves-->
                        <div>
                            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                                <defs>
                                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                                </defs>
                                <g class="parallax">
                                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(17,17,17,0.33)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(17,17,17,0.6)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(17,17,17,0.6)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(17,17,17,1)"></use>
                                </g>
                            </svg>
                        </div>
                        <!--Waves End-->
                    </div>
                    <!--Header End-->
                </div>
                <!--Article End-->
            </div>
<div class="content">
    <table>
        <tbody>
            <tr>
                <td style="vertical-align:top;width: 25%;padding-left: 10px;">
                    <div class="bloglinks">
                        <a href="https://amicitia-team.tumblr.com/">
                            <h3>
                                <i class="fas fa-newspaper" aria-hidden="true"></i> News
                            </h3>
                        </a>
                        <div class="widget">
                            <h5><a href="https://amicitia-team.tumblr.com/post/638012597777629184">Modding Support for P5R USA!</a></h5><br> 12/20/20
                            <br>
                        </div>
                        <a href="https://shrinefox.com/guides/">
                            <h3>
                                <i class="fas fa-graduation-cap" aria-hidden="true"></i> Guides
                            </h3>
                        </a>
                        <div class="widget">
                            <h5><a href="https://shrinefox.com/guides/2020/09/30/modding-persona-5-royal-jp-on-ps4-fw-6-72/">Modding P5R USA on PS4 FW 5.05 - 6.72</a></h5><br> 1/11/2021
                        </div>
                        <br>
                    </div>
                </td>
                <td width="75%" style="width: 75%;padding-right: 20px;">
                    <div class="text"><div class="container body-content">
	<table>
        <tr>
            <td width="25%" style="vertical-align:top">
                <div class="content-outer">
                    <div class="content"><br>
						Basics
						<br>↳ <a href="https://amicitia.github.io/docs/flowscript">Flowscript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/messagescript">Messagescript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/decompiling">Decompiling</a>
						<br>↳ <a href="https://amicitia.github.io/docs/compiling">Compiling</a>
						<br>
						<br>Features
						<br>↳ <a href="https://amicitia.github.io/docs/importing">Importing</a>
						<br>↳ Declaring Functions
						<br>↳ Declaring Variables
						<br>↳ <a href="https://amicitia.github.io/docs/hookingfunctions">Hooking Functions</a>
						<br>
						<br>P5 Functions
						<br>↳ AI
						<br>↳ Common
						<br>↳ Facility
						<br>↳ Field
						<br>↳ Net
						<br>↳ Social
					</div>
				</div>
			</td>
			<td style="width: 75%; padding-right:20px; vertical-align: top;">
				<div class="content-outer">
					<div class="content">
						<h1>Messagescript</h1><i>Flowscript</i> doesn't support <a href="https://techterms.com/definition/string">strings</a> as a variable type, but it's possible to display text in the form of dialog and selectable options by referencing a <b>messagescript</b> file.
						<h2>Creating a Messagescript</h2>
						Messagescripts are text files ending with the extension .<b>msg</b>, often accompanying a .<i>flow</i> (<i>flowscript</i>). Simply create a new text file and rename the extension. You may need to <a href="https://www.howtogeek.com/205086/beginner-how-to-make-windows-show-file-extensions/">make Windows display known file extensions</a> in order to change .txt to .msg.
						<br>Below is a sample from a <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Source/AtlusScriptCompiler/Resources/TestScript2.msg">custom messagescript</a>.
<pre><code class="c#">[dlg BossRushModeDialog [TGE]]
[f 2 1]Select a boss fight.[f 1 1][e]

[sel SelectBoss0]
[f 2 1]D00_SCENARIO_BATTLE_01[e]
[f 2 1]D01_01_SCENARIO_BATTLE_01[e]
[f 2 1]D01_01_MORUGANA_BATTLE[e]
[f 2 1]D01_02_SCENARIO_BATTLE_01[e]
[f 2 1]Previous[e]
[f 2 1]Next[e]
</code></pre>
						<br>There are <b>two types</b> of message declarations: <b>dialog</b> and <b>selection</b>.
						<br>Brackets that start with <b>dlg</b> or <b>msg</b>...
						<ul>
							<li>Can be used for dialog boxes, window labels etc.
							<li>Have a unique name (i.e. <b>BossRushModeDialog</b> )
							<li>Can have an optional nametag in brackets (i.e. <b>[TGE]</b> )
							<li>Have a message on the next new line, starting with <b>[s]</b>/<b>[f 2 1]</b> and ending with <b>[e]</b>.
							<li>Can have multiple messages on new lines as long as they come before the next message declaration.
						</ul>
						<br>Brackets that start with <b>sel</b>...
						<ul>
							<li>Can be used for menu options.
							<li>Have a unique name (i.e. <b>SelectBoss0</b> )
							<li>Have a message on the next new line, starting with <b>[s]</b>/<b>[f 2 1]</b> and ending with <b>[e]</b>.
							<li>Can have multiple messages on new lines as long as they come before the next message declaration.
						</ul>
						<a href="https://youtu.be/fTUIyUgc04U?t=237"><img src="https://i.imgur.com/Q3AkSbO.png"></a>
						<h2>Using Markup</h2>
						You can change the appearance of text by inserting the following codes (in brackets) into your message.
						<ul>
							<li>[<b>clr</b> x] Text color. x is a number <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Documents/RE/MessageScriptInterpreter.cpp#L28">between 0 and 30</a>. Affects all text after the tag until the end of the line ([e]).
							<li>[<b>n</b>] Linebreak. Put this between some text to make it show up on a new line ingame.
							<li>[<b>w</b>] Wait. Makes the game await user input before moving on to the next line.
							<li>[<b>vp</b> w x y z 0 0] Voice Pack. Makes the game play a voice clip. <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Source/AtlusScriptLibrary/Libraries/Persona5/MessageScriptLibrary.json#L233">w = eventIdMajor, x = eventIdMinor, y = eventIdSub, z = cueId</a>.
							<li>[<b>bup</b> 0 x y z 0] Bustup. Shows a character's talking sprite during dialog. <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Source/AtlusScriptLibrary/Libraries/Persona5/MessageScriptLibrary.json#L314">x = characterId, y = expressionId, z = customeId</a>. Lip flap will animate if followed by [f 4 10 -1 0 0].
						</ul>
						<h2>Referencing Messages in Flowscripts</h2>
						By <a href="https://amicitia.github.io/docs/importing">importing the messagescript into the flowscript</a>, you can reference messages in two ways: by <b>ID</b> or by the message's <b>unique name</b>.
						For instance, here's an example of a dialog box that references the messagescript sample above.
<pre><code class="c#">import( "TestScript2.msg" );

void StartBossrushMode()
{
	// Display the dialog window
	MSG_WND_DSP(); 
	// Display dialog
	MSG( BossRushModeDialog, 0 );
	// Close the dialog window
	MSG_WND_CLS(); 	
}</pre></code>
						<b>MSG(BossRushModeDialog, 0)</b> actually yeilds the same results as <b>MSG(5, 0)</b> since (counting up from 0) BossRushModeDialog is the fifth selection or dialog message with a unique name in the <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Source/AtlusScriptCompiler/Resources/TestScript2.msg#L31">msg file</a>.
						Here's an example of a selection that returns an integer (the index of the string from the referenced [sel] message).
<pre><code class="c#">// Display dialog window
MSG_WND_DSP(); 
MSG( HelloDialog, 0 ); 
// Display selection options while dialog is still shown
int selection = SEL( 1 );
MSG_WND_CLS();</pre></code>
						<b>SEL(1)</b> in this case refers to <a href="https://github.com/TGEnigma/AtlusScriptToolchain/blob/a8533ccf589953e6a75858c4bcb333a4dcdc38bc/Source/AtlusScriptCompiler/Resources/TestScript2.msg#L4">this message in the messagescript file</a>. You can use the value it returns to decide what to do with the selected option in-game:
<pre><code class="c#">
switch ( selection )
{
	case 0:
		int playerResHandle = FLD_PC_GET_RESHND( 0 );		
		FLD_MODEL_SET_SCALE( playerResHandle, 2f );
		break;
	case 1:
		CALL_FIELD( 0, 2, 0, 0 );
		break;
	case 2:
		StartBossrushMode();
		break;
	case 3:
		StartTeleportMode();
		break;
	case 4:
		StartButtonTestMode();
		break;
	case 5:
		StartSoundTestMode();
		break;
	default:
		break;
}</pre></code>
					</div>
				</div>
			</td>
		</tr>
	</table>
</div>                                </tr>
							</tbody>
						</table>
                        <!--Pagination-->
                        <br>
                        <br>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
<br>
<!--Footer-->
<footer style="backdrop-filter: blur(6px);background-color: rgba(17,17,17,0.7);padding-left: 50px;padding-top: 25px;color: #ffffff7f;">
    <table>
        <tbody>
            <tr>
                <td style="vertical-align: top;width: 25%;">
                    <h4>About</h4>
                    <center>
                        <img src="https://pbs.twimg.com/profile_images/1347312450895572993/ZfHnzfcq_400x400.jpg" style="clip-path: circle(39px at center);width: 75px;">
                    </center>
                    <br>
                    <a href="https://shrinefox.com/">ShrineFox</a> is passionate about customizing games, consoles and devices.
                    <br>This site explores cutting-edge jailbreaking techniques for beginners and end-users.
                </td>
                <td style="vertical-align: top;width: 35%;padding-left: 20px;">
                    <h4>Social Links</h4>
                    <br><a href="https://www.youtube.com/c/ShrineFox"><i class="fa fa-youtube" aria-hidden="true"></i> <b>YouTube</b></a>
                    <br><br><a href="https://twitter.com/ShrineFoxMods"><i class="fa fa-twitter" aria-hidden="true"></i> <b>ShrineFox</b></a>
                    <br><br><a href="https://twitter.com/AmicitiaTeam"><i class="fa fa-twitter" aria-hidden="true"></i> <b>AmicitiaTeam</b></a>
                    <br><br><a href="https://github.com/ShrineFox"><i class="fa fa-github" aria-hidden="true"></i> <b>GitHub</b></a>
                    <br><br><a href="https://discord.gg/9USHGmB"><i class="fab fa-discord" aria-hidden="true"></i> <b>Discord</b></a>
                </td>
                <td style="width: 40%;vertical-align: top;padding-right: 20px;">
                    <h4>Disclaimer</h4>
                    <br><br>
                    We are NOT affiliated, associated, authorized, endorsed by, or in any way
                    officially connected with ATLUS, SEGA, or any of its subsidiaries or its affiliates.
                    The official ATLUS website can be found at <a href="https://atlus.com/">https://atlus.com</a>. ATLUS and SEGA are
                    registered in the U.S. Patent and Trademark Office. ATLUS and PERSONA are
                    either registered trademarks or trademarks of ATLUS Co., Ltd. or its affiliates.
                    <br><br><a href="https://shrinefox.com/credits"><i class="fa fa-heart" aria-hidden="true"></i> <b>Site Credits</b></a>
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <center>
        <!--AdSense-->
        <br>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-hx+4+s-4m+70" data-ad-client="ca-pub-9519592525056753" data-ad-slot="8263745709"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        <br>
        <!--Credits-->
        <br>© ShrineFox 2020 - 2021. <a href="https://ko-fi.com/shrinefox"><i class="fa fa-coffee" aria-hidden="true"></i> Support</a>
        <br><br>
    </center>
</footer>
			</div>
<!--Wrapper End-->
			</div>
		</form>
		</main>
	</body>
</html>