<!doctype html>
<html>
<head>
    <link rel='shortcut icon' href='images/favicon.png' type='image/x-icon' />
    <meta charset="utf-8">
    <title>Amicitia Mods</title>
    <link href="https://shrinefox.com/css/index.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/waves.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/sidebar.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/navbar.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/grid.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/post.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/select.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/pagination.css" rel="stylesheet" type="text/css">
    <link href="https://shrinefox.com/css/amicitia.css" rel="stylesheet" type="text/css">
    <script src="https://shrinefox.com/js/jquery-3.3.1.min.js"></script>
    <script src="https://shrinefox.com/js/bubbles.js"></script>
    <script src="https://shrinefox.com/js/clipboard.js"></script>
    <script src="https://shrinefox.com/js/showhide.js"></script>
    <script src="https://shrinefox.com/js/hidenav.js"></script>
    <script src="https://shrinefox.com/js/navigation.js"></script>
    <script src="https://kit.fontawesome.com/4c3075832a.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <script data-ad-client="ca-pub-9519592525056753" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
    <main>
        <div class="copied">Cheat copied to clipboard!</div>
        <div id="wrapper">
            <div id="wrapper">
                <!--Navbar-->
                <div class="navbar" style="top: 0px;">
                    <div class="navbar-container">
                        <table>
                            <tbody>
                                <tr>
                                    <td style="width: 95px;padding-left: 20px;">
                                        <label for="openSidebarMenu" class="sidebarIconToggle">
                                            <div class="spinner diagonal part-1"></div>
                                            <div class="spinner horizontal"></div>
                                            <div class="spinner diagonal part-2"></div>
                                        </label>
                                    </td>
                                    <td>
                                        <div class="navbar-outer">
                                            <div class="navbar-inner">
                                                <a href="https://amicitia.github.io">
                                                    <div class="navbar-item">
                                                        <div class="amicitia-logo">
                                                            <div class="amicitia-svg"></div>
                                                        </div>Mods
                                                    </div>
                                                </a>
                                                <!--Top Navbar-->
                                                <a href="https://shrinefox.com/news">
                                                    <div class="navbar-item">
                                                        <span><i class="fa fa-newspaper" aria-hidden="true"></i>&nbsp;News</span>
                                                    </div>
                                                </a>
                                                <a href="https://shrinefox.com/guides">
                                                    <div class="navbar-item">
                                                        <span><i class="fa fa-graduation-cap" aria-hidden="true"></i>&nbsp;Guides</span>
                                                    </div>
                                                </a>
                                                <a href="https://shrinefox.com/blog">
                                                    <div class="navbar-item">
                                                        <span><i class="fab fa-wordpress" aria-hidden="true"></i>&nbsp;Blog</span>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--Sidebar Toggle-->
                <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu" style="position: fixed;display:none;">
                <aside class="sidebar">
                    <div class="component">
                        <div class="contents">
                            <ul class="items list">
                                <!--Sidebar Items-->
                                <div class="sidebarheader">
                                    <i class="fa fa-cube" aria-hidden="true"></i> &nbsp;&nbsp;Resources
                                </div>
                                <a href="https://amicitia.miraheze.org/wiki/Main_Page">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-users" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Wiki</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/forum">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-comments-o" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Support Forum</div>

                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/forum/app.php/faqpage">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-question-circle" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Frequently Asked Q&amp;A</div>
                                        </div>
                                    </div>
                                </a>
                                <br>
                                <div class="sidebarheader">
                                    <i class="fa fa-terminal" aria-hidden="true"></i>&nbsp;&nbsp;Apps
                                </div>
                                <a href="https://shrinefox.com/textsearch">
                                    <div class="item">
                                        <div class="thumbnail">
                                            <i class="fa fa-search" aria-hidden="true"></i>
                                        </div>
                                        <div class="info">
                                            <div class="title">&nbsp;Text Search</div>
                                            <div class="subtitle">&nbsp;Locate Files With Dialog</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://amicitia.github.io/docs/flowscript">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-file-code" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Flowscript Docs</div>
                                            <div class="subtitle">&nbsp;Learn .flow/.msg</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://amicitia.github.io/files">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-folder-open" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Files</div>
                                            <div class="subtitle">&nbsp;Download assets</div>
                                        </div>
                                    </div>
                                </a>
                                <a href="https://shrinefox.com/PatchCreator">
                                    <div class="item">
                                        <div class="thumbnail"><i class="fa fa-check-square" aria-hidden="true"></i></div>
                                        <div class="info">
                                            <div class="title">&nbsp;Patch.yml Creator</div>
                                            <div class="subtitle">&nbsp;P5 RPCS3 Patches</div>
                                        </div>
                                    </div>
                                </a>
                            </ul>
                        </div> <!--End Contents-->
                    </div>  <!--End Component-->
                </aside>  <!--End Sidebar Menu-->
                <div class="article">
                    <!--Header-->
                    <div class="header">
                        <canvas id="bgCanvas" width="715" height="722" style=""></canvas>
                        <center>
                            <div class="header-inner" style="margin-top: 150px;">
                                <!--Title-->
                                <h1>
                                    <span class="underline-on-hover">game</span>
                                    <select class="select-css" onchange="navigate()" id="game" name="game">
                                        <option value="" disabled=""></option>
                                        <option value="All">All</option>
                                        <option value="P5">Persona 5</option>
                                        <option value="P5R">Persona 5 Royal</option>
                                        <option value="P5S">Persona 5 Strikers</option>
                                        <option value="P5D">Persona 5 Dancing in Starlight</option>
                                        <option value="P4">Persona 4</option>
                                        <option value="P4G">Persona 4 Golden</option>
                                        <option value="P4AU">Persona 4 Arena Ultimax</option>
                                        <option value="P4D">Persona 4 Dancing All Night</option>
                                        <option value="P3FES">Persona 3 FES</option>
                                        <option value="P3P">Persona 3 Portable</option>
                                        <option value="P3D">Persona 3 Dancing in Moonlight</option>
                                        <option value="PQ">Persona Q</option>
                                        <option value="PQ2">Persona Q2</option>
                                        <option value="CFB">Catherine Full Body</option>
                                        <option value="SMT3">Shin Megami Tensei Nocturne</option>
                                    </select>
                                    <span class="underline-on-hover">mods &amp; resources</span>
                                    <select class="select-css" onchange="navigate()" id="type" name="type">
                                        <option value="" disabled=""></option>
                                        <option value="All">All</option>
                                        <option value="Mod">Mods</option>
                                        <option value="Tool">Tools</option>
                                        <option value="Cheat">Cheats</option>
                                        <option value="Guide">Guides</option>
                                    </select>
                                </h1>
                        </center>
                        <!--Waves-->
                        <div>
                            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                                <defs>
                                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                                </defs>
                                <g class="parallax">
                                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(17,17,17,0.33)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(17,17,17,0.6)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(17,17,17,0.6)"></use>
                                    <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(17,17,17,1)"></use>
                                </g>
                            </svg>
                        </div>
                        <!--Waves End-->
                    </div>
                    <!--Header End-->
                </div>
                <!--Article End-->
            </div>
<div class="content">
    <table>
        <tbody>
            <tr>
                <td style="vertical-align:top;width: 25%;padding-left: 10px;">
                    <div class="bloglinks">
                        <a href="https://amicitia-team.tumblr.com/">
                            <h3>
                                <i class="fas fa-newspaper" aria-hidden="true"></i> News
                            </h3>
                        </a>
                        <div class="widget">
                            <h5><a href="https://amicitia-team.tumblr.com/post/638012597777629184">Modding Support for P5R USA!</a></h5><br> 12/20/20
                            <br>
                        </div>
                        <a href="https://shrinefox.com/guides/">
                            <h3>
                                <i class="fas fa-graduation-cap" aria-hidden="true"></i> Guides
                            </h3>
                        </a>
                        <div class="widget">
                            <h5><a href="https://shrinefox.com/guides/2020/09/30/modding-persona-5-royal-jp-on-ps4-fw-6-72/">Modding P5R USA on PS4 FW 5.05 - 6.72</a></h5><br> 1/11/2021
                        </div>
                        <br>
                    </div>
                </td>
                <td width="75%" style="width: 75%;padding-right: 20px;">
                    <div class="text"><div class="container body-content">
	<table>
        <tr>
            <td width="25%" style="vertical-align:top">
                <div class="content-outer">
                    <div class="content"><br>
						Basics
						<br>↳ <a href="https://amicitia.github.io/docs/flowscript">Flowscript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/messagescript">Messagescript</a>
						<br>↳ <a href="https://amicitia.github.io/docs/decompiling">Decompiling</a>
						<br>↳ <a href="https://amicitia.github.io/docs/compiling">Compiling</a>
						<br>
						<br>Features
						<br>↳ <a href="https://amicitia.github.io/docs/importing">Importing</a>
						<br>↳ Declaring Functions
						<br>↳ Declaring Variables
						<br>↳ <a href="https://amicitia.github.io/docs/hookingfunctions">Hooking Functions</a>
						<br>
						<br>P5 Functions
						<br>↳ AI
						<br>↳ Common
						<br>↳ Facility
						<br>↳ Field
						<br>↳ Net
						<br>↳ Social
					</div>
				</div>
			</td>
			<td style="width: 75%; padding-right:20px; vertical-align: top;">
				<div class="content-outer">
					<div class="content">
						<h1>Hooking Functions</h1>
						AtlusScriptCompiler is not perfect, and sometimes decompiled data is imprecise (usually float values). This can lead to glitches (weird camera/player positioning and movement) and even crashes in-game when a recompiled script is modded back in.
						<br />To get around this, AtlusScriptCompiler has a feature that preserves the original .BF's data, appending only new data to the end from your compiled .FLOW.
						<br />You can use this to <b>replace the contents of a specific method or function</b> without screwing up the rest of the file.
						<h2>Creating the .FLOW</h2>
						In this example, let's say we wanted to replace ONLY the contents of <b>fld_square_menu</b>, a method in <b>field.bf</b>.
						<br />We would have to create a new text document ending with the .FLOW extension, named anything we want. In this example, <b>fieldhook.flow</b>.
						<h2>Referencing the .BF</h2>
						In that blank document, let's import the bf. Make sure the .flow is in the same directory as the .bf and <a href="https://amicitia.github.io/docs/importing">follow the instructions from the importing guide</a>, like so:
<pre><code>import( "field.bf" );</code></pre>
						<h2>Creating the Hook</h2>
						Next, let's copy the method we want to replace from the decompiled .bf, changing whatever we want. You can even reference external methods you add to your .flow like so:
<pre><code>
import( "field.bf" );

void fld_square_menu_hook()
{
    ModMenuDisplay();
}

void ModMenuDisplay()
{
    ALL_ENABLE_SHARE_PLAY(); //Re-enables screen recording
    BIT_OFF( 4099 ); //Removes your "tired" status
...
</code></pre>
						Note that the replacement method has "_hook" appended to the name. This is important.
						<h2>Compiling the .FLOW</h2>
						Follow the same steps as the <a href="https://amicitia.github.io/docs/compiling">Compiling guide</a>, except add one extra commandline argument: "-Hook".
						<br />For example:
						<br /><pre><code>AtlusScriptCompiler.exe fieldhook.flow -Compile -OutFormat V3BE -Library P5 -Encoding P5 -Hook</code></pre>
						<br />This should generate fieldhook.bf, an identical copy of field.bf except with the <b>ModMenuDisplay()</b> method replacing the contents of <b>fld_square_menu_hook</b>.
					</div>
				</div>
			</td>
		</tr>
	</table>
</div>                                </tr>
							</tbody>
						</table>
                        <!--Pagination-->
                        <br>
                        <br>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
<br>
<!--Footer-->
<footer style="backdrop-filter: blur(6px);background-color: rgba(17,17,17,0.7);padding-left: 50px;padding-top: 25px;color: #ffffff7f;">
    <table>
        <tbody>
            <tr>
                <td style="vertical-align: top;width: 25%;">
                    <h4>About</h4>
                    <center>
                        <img src="https://pbs.twimg.com/profile_images/1347312450895572993/ZfHnzfcq_400x400.jpg" style="clip-path: circle(39px at center);width: 75px;">
                    </center>
                    <br>
                    <a href="https://shrinefox.com/">ShrineFox</a> is passionate about customizing games, consoles and devices.
                    <br>This site explores cutting-edge jailbreaking techniques for beginners and end-users.
                </td>
                <td style="vertical-align: top;width: 35%;padding-left: 20px;">
                    <h4>Social Links</h4>
                    <br><a href="https://www.youtube.com/c/ShrineFox"><i class="fa fa-youtube" aria-hidden="true"></i> <b>YouTube</b></a>
                    <br><br><a href="https://twitter.com/ShrineFoxMods"><i class="fa fa-twitter" aria-hidden="true"></i> <b>ShrineFox</b></a>
                    <br><br><a href="https://twitter.com/AmicitiaTeam"><i class="fa fa-twitter" aria-hidden="true"></i> <b>AmicitiaTeam</b></a>
                    <br><br><a href="https://github.com/ShrineFox"><i class="fa fa-github" aria-hidden="true"></i> <b>GitHub</b></a>
                    <br><br><a href="https://discord.gg/9USHGmB"><i class="fab fa-discord" aria-hidden="true"></i> <b>Discord</b></a>
                </td>
                <td style="width: 40%;vertical-align: top;padding-right: 20px;">
                    <h4>Disclaimer</h4>
                    <br><br>
                    We are NOT affiliated, associated, authorized, endorsed by, or in any way
                    officially connected with ATLUS, SEGA, or any of its subsidiaries or its affiliates.
                    The official ATLUS website can be found at <a href="https://atlus.com/">https://atlus.com</a>. ATLUS and SEGA are
                    registered in the U.S. Patent and Trademark Office. ATLUS and PERSONA are
                    either registered trademarks or trademarks of ATLUS Co., Ltd. or its affiliates.
                    <br><br><a href="https://shrinefox.com/credits"><i class="fa fa-heart" aria-hidden="true"></i> <b>Site Credits</b></a>
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <center>
        <!--AdSense-->
        <br>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-hx+4+s-4m+70" data-ad-client="ca-pub-9519592525056753" data-ad-slot="8263745709"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        <br>
        <!--Credits-->
        <br>© ShrineFox 2020 - 2021. <a href="https://ko-fi.com/shrinefox"><i class="fa fa-coffee" aria-hidden="true"></i> Support</a>
        <br><br>
    </center>
</footer>
			</div>
<!--Wrapper End-->
			</div>
		</form>
		</main>
	</body>
</html>