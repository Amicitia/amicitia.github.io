<!doctype html>
<html>
<head>
<link rel='shortcut icon' href='../../favicon.png' type='image/x-icon'/ >
<meta charset="utf-8">
<title>Amicitia - Mod Compendium Guide</title>
<link href="../../css/index.css" rel="stylesheet" type="text/css">
<link href="../../css/waves.css" rel="stylesheet" type="text/css">
<link href="../../css/guides.css" rel="stylesheet" type="text/css">
<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
</head>
<body>
<canvas id='bgCanvas'></canvas>
<script src="../../js/https://amicitiamods.jcink.net/.js"></script>
<div class="waves">
  <div class="wave wave_1"></div>
  <div class="wave wave_2"></div>
  <div class="wave wave_3"></div>
</div>
<div class="navigation">
 <i class="fas fa-home"></i> Home
 <a href="http://amicitia-team.tumblr.com"><i class="fas fa-edit"></i> Blog</a>
 <a href="http://amicitia-mods.boards.net/"><i class="fa fa-comment" aria-hidden="true"></i> Forum</a>
 <a href="https://amicitia.miraheze.org/wiki/Main_Page"><i class="fa fa-book" aria-hidden="true"></i> Wiki</a>
 <a href="https://amicitia.github.io/about"><i class="fa fa-info-circle" aria-hidden="true"></i> About</a>
 
</div>
<div class="logo"><center><a href="https://amicitia.github.io/"><img src="../../images/logo.svg" width="179" height="179"></a></center></div>

<div class="content"><a href="https://amicitia.github.io/index">Home</a> <i class="fa fa-angle-double-right" aria-hidden="true"></i>
 <a href="https://amicitia.github.io/guides">Guides</a> <i class="fa fa-angle-double-right" aria-hidden="true"></i>
 <a href="../p4d">Persona 4 Dancing (P4D)</a> <i class="fa fa-angle-double-right" aria-hidden="true"></i> <b>Mod Compendium Guide</b>
 
 <b><h1>Building a mod.cpk using the Mod Compendium</h1></b>
 <table border="0" cellspacing="20" cellpadding="0" id="entry">
	<tr>
		<td><img src="https://i.imgur.com/Ndhy2ai.png"></td>
		<td id="left"><h2>What's the Mod Compendium?</h2>
			The <span style="background-color: #CCE8FF">Mod Compendium</span> is a program created by TGE that makes it extremely simple to create, install and combine multiple mods for Persona games. Currently, it supports Persona 3 - 5, as well as P3P, P4G and P4D.
			<br>
			<br><a href="https://amicitia.github.io/tools/p5#modcompendium"><b>Download the Mod Compendium here</b></a>.
			<br>In the case of <b>Persona 4 Dancing All Night</b>, the Mod Compendium generates a new <span style="background-color: #CCE8FF">cpk file</span> based on the original, which you must provide. You can <a href="https://amicitia.github.io/guides/p4g/cpk-extract"><b>follow our guide on extracting CPKs</b></a> from the game in order to modify them.
		</td>
	</tr>
</table>
</div>

<div class="content">
 <b><h1>Setting up the Mod Compendium</h1></b>
 <table border="0" cellspacing="20" cellpadding="0" id="entry">
	<tr>
		<td>
			Once you've downloaded the program, unzip it using 7zip and extract the contents to a folder somewhere on your computer. Download new mods from the mods section of the site (make sure you're
			picking the <b>Mod Compendium .zip</b> format!)
		</td>
		<td>
			<img src="https://i.imgur.com/Xy1jaTo.png">
		</td>
	<tr>
		<td><img src="https://i.imgur.com/we6geCF.png"></td>
		<td id="left">Unzip your mods and put them in any subfolder of <span style="background-color: #CCE8FF">Mods</span> in your Mod Compendium folder. You can organize them by the name of the game like shown, if you'd like. There should already be some sample mods in the folder for reference.
		</td>
	</tr>
	<tr>
		<td>
			<h2>Building a mod.cpk</h2>
			Start the program by running <span style="background-color: #CCE8FF">ModCompendium.exe</span> (or click <span style="background-color: #CCE8FF">Refresh</span> if you already have before adding your mods). They should all show up in the list when you choose <span style="background-color: #CCE8FF">Persona5</span> from the game dropdown menu in the top left corner.
		</td>
		<td>
			<img src="https://i.imgur.com/NPLUfRI.png">
		</td>
	</tr>
	<tr>
		<td><img src="https://i.imgur.com/a67pdn6.png"></td>
		<td id="left">Click on the <span style="background-color: #CCE8FF">Settings</span> button and choose the <span style="background-color: #CCE8FF">cpk</span> that you would like to mod. The program will automatically extract and repack this CPK with the mods you've enabled. You can also choose the directory where the new files will be saved. I suggest choosing the <b>patch</b> CPK, since the contents can override all other CPKs and it's the smallest, so building won't take as long.
		<br><span style="background-color: #FFCECE">It's highly suggested that you leave compression enabled, as <b>P4D is known to crash if certain files are not compressed properly.</b> Keep in mind that CPK compression can take a long time, and uses a lot of processing power.</span>
		</td>
	</tr>
	<tr>
		<td>
			 Files in each mod will be merged together in the order of the list. In case two mods modify the same file, and you would prefer one over the other, you can click on a mod in the list to highlight it. Then, use the up/down buttons on the righthand side of the window to change its priority.
		</td>
		<td>
			<img src="https://i.imgur.com/6yF8ZQO.gif">
		</td>
	</tr>
	<tr>
		<td><img src="https://i.imgur.com/ArBkoWZ.png"></td>
		<td id="left">Finally, check the boxes on the left of each mod in the list to enable them and click <b><span style="background-color: #CCE8FF">Build</span></b>! If all went well, your new <span style="background-color: #CCE8FF">cpk</span> file should eventually be generated and then you can put it back on your console! <br><span style="background-color: #FFCECE">Once again, if Compression is enabled, be very patient. If you suspect that something went wrong, check Task Manager to see how much of the CPU the Mod Compendium is using. If it's still high and changing frequently, it's still working on it!</span>
		</td>
	</tr>
</table>

</div>

<div class="content">
 
 <b><h1>Patching the game to use the new CPK</h1></b>
 <table border="0" cellspacing="20" cellpadding="0" id="entry">
	<tr>
		<td>
			Assuming your Vita is on <a href="https://henkaku.xyz/">firmware 3.60 running Henkaku</a>, use Vitashell and connect to your Vita via FPT. Copy the newly generated data.cpk to your Vita's <span style="background-color: #CCE8FF">ux0:patch/GAMEID</span> folder. If it doesn't already exist, create it. Also make sure that in the <span style="background-color: #CCE8FF">ux0:patch/GAMEID/</span> folder, you have a <span style="background-color: #CCE8FF">sce_sys</span> folder containing the game's <span style="background-color: #CCE8FF">param.sfo</span> (provided <a href="https://drive.google.com/open?id=14AR6J1sZH9p1F_GKFjGM8_NVQiX8SFu-">here is a param.sfo from the USA release</a>).
		</td>
		<td>
			<img src="https://i.imgur.com/fpteMcC.png">
		</td>
	</tr>
	</table>
</div>

<div class="content">
 
 <b><h1>Creating Your Own Mods</h1></b>
 <table border="0" cellspacing="20" cellpadding="0" id="entry">
	<tr>
		<td>
			Click the <b><span style="background-color: #CCE8FF">New</span></b> button to create a new mod entry in the list. Fill out the name, description, author and version (the rest is optional) and click OK. A new folder will be generated in the <span style="background-color: #CCE8FF">Mods</span> folder of your Mod Compendium directory.
		</td>
		<td>
			<img src="https://i.imgur.com/fpteMcC.png">
		</td>
	<tr>
		<td><img src="https://i.imgur.com/ghhkdaH.png"></td>
		<td id="left">Add your modified files to the <span style="background-color: #CCE8FF">Data</span> subfolder of your newly generated folder named after the mod you're adding. 
		<br><b>Important:</b> The contents of this directory <b>must
			retain the same structure as the game's original CPKs</b>. If you're unsure
			what folders your mods go in, check our Wiki or check the game's
			contents by <big><a href="https://amicitia.github.io/guides/p4d/cpk-extract"><b>extracting the game's original CPK files</b></a></big>. For example, if you're making a new <span style="background-color: #CCE8FF">pc001_01.GMD</span> file, make sure it's in the <span style="background-color: #CCE8FF">Data/dance/player</span> folder of your mod like in the example.
		</td>
	</tr>
</table>
</div>
	
<div class="content">
<table border="0" cellspacing="20" cellpadding="0" id="entry">
	<tr>
		<td><h2>Distributing Your Mods</h2>
			While you could just share your resulting <span style="background-color: #CCE8FF">cpk</span>, the point of the Mod Compendium is to avoid anyone having to unpack and create CPKs themselves in order to install and play mods. That said, you could simply zip up your mod's folder (the one containing the <span style="background-color: #CCE8FF">Data</span> folder and <span style="background-color: #CCE8FF">mod.xml</span>) and upload it to your choice of file host that way.
			<br>
			<br>Other users can simply follow this guide to add your mod to their <span style="background-color: #CCE8FF">Mods</span> folder.
		</td>
		<td><img src="https://i.imgur.com/ThAvdDh.png"></td>
	</tr>
</table>

</div>

<br><br>

</body>
</html>